# üî¥ –ü—Ä–∏–º–µ—Ä—ã FRAUD —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π - –ü–û–õ–ù–ê–Ø –í–ï–†–°–ò–Ø

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≠–¢–ò –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!

–≠—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã —Å–æ–¥–µ—Ä–∂–∞—Ç **–í–°–ï –ø–æ–ª—è –∏–∑ CSV**, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã ML –º–æ–¥–µ–ª–∏.

---

## üìã Request #1: Reseller Fraud + VPN (TXN-850592075)

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
- üö® **VPN –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** (–∫—Ä–∏—Ç–∏—á–Ω–æ!)
- üö® –ê–¥—Ä–µ—Å–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç (–ú–æ—Å–∫–≤–∞ ‚â† –í–æ–ª–≥–æ–≥—Ä–∞–¥)
- üö® –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å + 1 chargeback
- üö® –í—ã—Å–æ–∫–∞—è velocity (11 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å —Ç–æ–≥–æ –∂–µ IP)
- üö® –ö–∞—Ä—Ç–∞ –∏–∑ –£–∫—Ä–∞–∏–Ω—ã
- üí∞ –î–æ—Ä–æ–≥–æ–π —Ç–æ–≤–∞—Ä (74,990 ‚ÇΩ)

### JSON –¥–ª—è Postman:

```json
{
  "type": "PAYMENT",
  "amount": 74990,
  "nameOrig": "C985922",
  "oldbalanceOrg": 80000,
  "newbalanceOrig": 5010,
  "nameDest": "M123456",
  "oldbalanceDest": 500000,
  "newbalanceDest": 574990,
  
  "ip_address": "182.94.126.113",
  "device_id": "device_fpr_39591801",
  "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 Opera/115.0.0.0",
  "location": "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä",
  
  "email": "new.user24052@mail.ru",
  "email_domain": "mail.ru",
  "email_first_seen": "2025-11-11",
  "phone": "+79346446820",
  "phone_verified": false,
  "previous_orders": 0,
  "previous_chargebacks": 1,
  
  "product_id": "PSVR2-01",
  "product_name": "PlayStation VR2",
  "category": "vr_headsets",
  "sku": "PSVR2-1000",
  "is_high_risk_item": true,
  
  "customer_id": "USER-985922",
  "payment_method": "card",
  "payment_gateway": "Yandex.Kassa",
  "currency": "RUB",
  
  "card_bin": "427650",
  "card_last4": "1472",
  "issuer_country": "UA",
  "is_3ds_passed": true,
  "attempt_count": 2,
  
  "ip_country": "RU",
  "ip_region": "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä",
  "proxy": false,
  "vpn": true,
  "tor": false,
  
  "device_os": "macOS",
  "browser": "Opera 115",
  "is_emulator": false,
  
  "delivery_type": "pickup",
  "delivery_address": "–ú–æ—Å–∫–≤–∞, –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏ ‚Ññ160",
  "address_verified": false,
  "billing_address": "–í–æ–ª–≥–æ–≥—Ä–∞–¥, –ø—Ä. –ú–∏—Ä–∞, –¥. 139",
  "addresses_match": false,
  "shipping_region": "–ú–æ—Å–∫–≤–∞",
  "delivery_person": "–í–∏–∫—Ç–æ—Ä –ö–æ–∑–ª–æ–≤",
  "delivery_signature_required": true,
  "last_mile_provider": "–°–î–≠–ö",
  
  "session_length_sec": 525,
  "pages_viewed": 12,
  "time_on_checkout_sec": 89,
  "added_card_count": 1,
  "cart_abandon_rate": 0.05,
  "velocity_same_card_1h": 3,
  "velocity_same_ip_24h": 11
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `is_fraud`: **true** üî¥
- `risk_score`: **85-95**
- `risk_level`: **HIGH**
- –°—Ç–∞—Ç—É—Å: **"–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞"**

---

## üìã Request #2: Reseller Fraud + Emulator (TXN-253152802)

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
- üö® **–≠–º—É–ª—è—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** (–∫—Ä–∏—Ç–∏—á–Ω–æ!)
- üö® –ê–¥—Ä–µ—Å–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç (–ú–æ—Å–∫–≤–∞ ‚â† –û–º—Å–∫)
- üö® 2 –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö chargeback
- üö® 3DS –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞
- üö® –ö–∞—Ä—Ç–∞ –∏–∑ –£–∫—Ä–∞–∏–Ω—ã
- ‚ö†Ô∏è –ù–æ–≤—ã–π email (–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω 2025-11-12)

```json
{
  "type": "PAYMENT",
  "amount": 49990,
  "nameOrig": "C120997",
  "oldbalanceOrg": 55000,
  "newbalanceOrig": 5010,
  "nameDest": "M999888",
  "oldbalanceDest": 300000,
  "newbalanceDest": 349990,
  
  "ip_address": "83.52.179.182",
  "device_id": "device_fpr_48892263",
  "user_agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 Mobile Safari/604.1 Firefox/114.0",
  "location": "–í–æ–ª–≥–æ–≥—Ä–∞–¥",
  
  "email": "new.user87988@mail.ru",
  "email_domain": "mail.ru",
  "email_first_seen": "2025-11-12",
  "phone": "+79125010112",
  "phone_verified": true,
  "previous_orders": 2,
  "previous_chargebacks": 2,
  
  "product_id": "PS5-STD-01",
  "product_name": "PlayStation 5 Standard",
  "category": "game_consoles",
  "sku": "PS5STD-825SSD",
  "is_high_risk_item": true,
  
  "customer_id": "USER-120997",
  "payment_method": "card",
  "payment_gateway": "Yandex.Kassa",
  "currency": "RUB",
  
  "card_bin": "427650",
  "card_last4": "4988",
  "issuer_country": "UA",
  "is_3ds_passed": false,
  "attempt_count": 3,
  
  "ip_country": "RU",
  "ip_region": "–í–æ–ª–≥–æ–≥—Ä–∞–¥",
  "proxy": false,
  "vpn": false,
  "tor": false,
  
  "device_os": "iOS",
  "browser": "Firefox 114",
  "is_emulator": true,
  
  "delivery_type": "pickup",
  "delivery_address": "–ú–æ—Å–∫–≤–∞, –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏ ‚Ññ161",
  "address_verified": false,
  "billing_address": "–û–º—Å–∫, —É–ª. –°–æ–≤–µ—Ç—Å–∫–∞—è, –¥. 93",
  "addresses_match": false,
  "shipping_region": "–ú–æ—Å–∫–≤–∞",
  "delivery_person": "–ò–≤–∞–Ω –°–æ–∫–æ–ª–æ–≤",
  "delivery_signature_required": true,
  "last_mile_provider": "–°–î–≠–ö",
  
  "session_length_sec": 243,
  "pages_viewed": 19,
  "time_on_checkout_sec": 137,
  "added_card_count": 1,
  "cart_abandon_rate": 0.05,
  "velocity_same_card_1h": 1,
  "velocity_same_ip_24h": 9
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `is_fraud`: **true** üî¥
- `risk_score`: **90-95**
- `risk_level`: **HIGH**
- –°—Ç–∞—Ç—É—Å: **"–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞"**

---

## üìã Request #3: Friendly Fraud (TXN-710876864)

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
- üî¥ **2 –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö chargeback** (history fraud!)
- ‚ö†Ô∏è –ù–æ–≤—ã–π email
- ‚ö†Ô∏è –í—ã—Å–æ–∫–∏–π cart abandonment (33%)
- ‚ö†Ô∏è –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (0 –∑–∞–∫–∞–∑–æ–≤)
- ‚úÖ –ù–æ: 3DS –ø—Ä–æ–π–¥–µ–Ω–∞, –∞–¥—Ä–µ—Å–∞ —Å–æ–≤–ø–∞–¥–∞—é—Ç

```json
{
  "type": "PAYMENT",
  "amount": 59990,
  "nameOrig": "C111809",
  "oldbalanceOrg": 65000,
  "newbalanceOrig": 5010,
  "nameDest": "M111222",
  "oldbalanceDest": 400000,
  "newbalanceDest": 459990,
  
  "ip_address": "52.209.15.136",
  "device_id": "device_fpr_50992419",
  "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 Opera/102.0.0.0",
  "location": "–í–æ–ª–≥–æ–≥—Ä–∞–¥",
  
  "email": "new.user61457@mail.ru",
  "email_domain": "mail.ru",
  "email_first_seen": "2025-11-19",
  "phone": "+79033291232",
  "phone_verified": false,
  "previous_orders": 0,
  "previous_chargebacks": 2,
  
  "product_id": "PS5-SLIM-01",
  "product_name": "PlayStation 5 Slim",
  "category": "game_consoles",
  "sku": "PS5SLIM-825SSD",
  "is_high_risk_item": true,
  
  "customer_id": "USER-111809",
  "payment_method": "card",
  "payment_gateway": "Sberbank",
  "currency": "RUB",
  
  "card_bin": "554395",
  "card_last4": "3261",
  "issuer_country": "RU",
  "is_3ds_passed": true,
  "attempt_count": 1,
  
  "ip_country": "RU",
  "ip_region": "–í–æ–ª–≥–æ–≥—Ä–∞–¥",
  "proxy": false,
  "vpn": false,
  "tor": false,
  
  "device_os": "Windows",
  "browser": "Opera 102",
  "is_emulator": false,
  
  "delivery_type": "pickup",
  "delivery_address": "–í–æ–ª–≥–æ–≥—Ä–∞–¥, —É–ª. –ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∞—è, –¥. 23, –∫–≤. 131",
  "address_verified": false,
  "billing_address": "–í–æ–ª–≥–æ–≥—Ä–∞–¥, —É–ª. –ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∞—è, –¥. 23, –∫–≤. 131",
  "addresses_match": true,
  "shipping_region": "–í–æ–ª–≥–æ–≥—Ä–∞–¥",
  "delivery_person": "–°–µ—Ä–≥–µ–π –ü–µ—Ç—Ä–æ–≤",
  "delivery_signature_required": true,
  "last_mile_provider": "DPD",
  
  "session_length_sec": 214,
  "pages_viewed": 9,
  "time_on_checkout_sec": 186,
  "added_card_count": 2,
  "cart_abandon_rate": 0.33,
  "velocity_same_card_1h": 2,
  "velocity_same_ip_24h": 7
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `is_fraud`: **true** üî¥
- `risk_score`: **70-85**
- `risk_level`: **MEDIUM/HIGH**
- –°—Ç–∞—Ç—É—Å: **"–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ"** –∏–ª–∏ **"–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞"**

---

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –§–∞–∫—Ç–æ—Ä | Request #1 | Request #2 | Request #3 |
|--------|------------|------------|------------|
| **VPN** | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚ùå –ù–µ—Ç |
| **–≠–º—É–ª—è—Ç–æ—Ä** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| **3DS** | ‚úÖ –ü—Ä–æ–π–¥–µ–Ω–∞ | ‚ùå –ù–µ –ø—Ä–æ–π–¥–µ–Ω–∞ | ‚úÖ –ü—Ä–æ–π–¥–µ–Ω–∞ |
| **Chargebacks** | 1 | 2 | 2 |
| **–ö–∞—Ä—Ç–∞** | üá∫üá¶ UA | üá∫üá¶ UA | üá∑üá∫ RU |
| **–ê–¥—Ä–µ—Å–∞** | ‚ùå –ù–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç | ‚ùå –ù–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç | ‚úÖ –°–æ–≤–ø–∞–¥–∞—é—Ç |
| **Velocity IP (24h)** | 11 | 9 | 7 |
| **Cart Abandon** | 5% | 5% | 33% |
| **Risk Level** | üî¥ HIGH (90+) | üî¥ HIGH (95+) | üü° MEDIUM-HIGH (75+) |

---

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª—é–±–æ–π JSON** –≤—ã—à–µ
2. **Postman:**
   - Method: `POST`
   - URL: `http://localhost:8000/api/v1/analyze`
   - Headers: `Content-Type: application/json`
   - Body: –í—Å—Ç–∞–≤—å—Ç–µ JSON
3. **–ù–∞–∂–º–∏—Ç–µ Send**
4. **–°–º–æ—Ç—Ä–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä** ‚Üí http://localhost:3000/transactions
5. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ—è–≤–∏—Ç—Å—è** —Å üî¥ –∫—Ä–∞—Å–Ω—ã–º badge!

---

## üí° –ü–æ—á–µ–º—É —ç—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ‚Äî FRAUD?

### Request #1 (–°–∞–º—ã–π –æ–ø–∞—Å–Ω—ã–π)
- **VPN** —Å–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π IP
- –ù–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ (—á–∞—Å—Ç–æ —É –º–æ—à–µ–Ω–Ω–∏–∫–æ–≤)
- –í—ã—Å–æ–∫–∞—è velocity (–º–∞—Å—Å–æ–≤—ã–µ –ø–æ–∫—É–ø–∫–∏)
- –ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞

### Request #2 (–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π fraud)
- **–≠–º—É–ª—è—Ç–æ—Ä** ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- 3DS –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞
- –ò—Å—Ç–æ—Ä–∏—è chargebacks
- –ü–æ–ø—ã—Ç–∫–∞ –æ–±—Ö–æ–¥–∞ –∑–∞—â–∏—Ç—ã

### Request #3 (Friendly fraud)
- **–ò—Å—Ç–æ—Ä–∏—è chargebacks** ‚Äî –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫
- –í—ã—Å–æ–∫–∏–π cart abandonment (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º)
- –ù–æ–≤—ã–π email —Å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º –¥–æ–º–µ–Ω–æ–º

---

## ‚úÖ –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ

**–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12):**
```
WebSocket connected
New transaction received: {transaction_id: "TXN_...", ...}
Loaded 1 API transactions
```

**–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ /transactions:**
- –ó–µ–ª—ë–Ω–∞—è –ø—É–ª—å—Å–∞—Ü–∏—è –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏
- –ö—Ä–∞—Å–Ω—ã–π badge "–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞"
- Risk score 75-95
- –í—Å–µ –¥–µ—Ç–∞–ª–∏: email, —Ç–æ–≤–∞—Ä, —Ä–µ–≥–∏–æ–Ω –∏ —Ç.–¥.

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–º–æ!

–í—Å–µ 3 –ø—Ä–∏–º–µ—Ä–∞ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ **—Ä–µ–∞–ª—å–Ω—ã—Ö –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö** –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç **–≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è** –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã ML –º–æ–¥–µ–ª–∏!
